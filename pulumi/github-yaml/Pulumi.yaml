name: github-yaml
runtime: yaml
options:
  refresh: always

resources:
  repo:
    type: github:Repository
    properties:
      name: pulumi
      description: Repository created with Pulumi
      visibility: public
      autoInit: true

  file:
    type: github:RepositoryFile
    properties:
      repository: ${repo.name}
      file: .gitignore
      content: |
        .DS_Store

  secret:
    type: github:ActionsSecret
    properties:
      repository: ${repo.name}
      secretName: SECRET
      plaintextValue: secret

outputs:
  cloneUrl: ${repo.httpCloneUrl}
