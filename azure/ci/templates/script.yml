parameters:
  - name: displayName
    type: string

  - name: environment
    type: string

  - name: arguments
    type: string
    default: ""

steps:
  - task: AzureCLI@2
    displayName: ${{ parameters.displayName }}
    inputs:
      azureSubscription: $(azureSubscription)
      scriptType: pscore
      scriptPath: iac/deploy.ps1
      arguments: ${{ parameters.environment }} ${{ parameters.arguments }}
